<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Astralis Talent Showcase Registration</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&display=swap" rel="stylesheet" />

    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Orbitron:wght@400..900&display=swap" rel="stylesheet" />
    <style>
      :root {
        --splash-bg: #533acf;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        overflow: hidden;
        font-family: "Anton", sans-serif;
      }

      /* Splash Screen */
      #splash {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: #ff59d8;
        background: linear-gradient(0deg, rgba(255, 89, 216, 1) 0%, rgba(173, 61, 173, 1) 31%, rgba(59, 34, 140, 1) 100%);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        user-select: none;
        animation: fadeOutSplash 3.1s ease-out forwards;
      }

      #splashmotto {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-family: "Bebas Neue", sans-serif;
        font-weight: 400;
        text-align: center;
        opacity: 0.15;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        line-height: 0.9;
        z-index: 1;
      }

      #splashlogo {
        position: relative;
        z-index: 2;
        filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.6));
      }

      #splashtitle {
        font-family: "Anton", sans-serif;
        font-weight: 500;
        color: white;
        letter-spacing: -0.2vh;
        text-shadow: 2px 2px 8px rgba(195, 167, 6, 0.6);
        z-index: 2;
        position: relative;
      }

      .fronttitleletter.showAnim {
        animation: flamingLetters 0.75s linear;
      }

      /* Mobile Portrait */
      @media (max-width: 1024px) and (orientation: portrait) {
        #splashmotto {
          font-size: 12vw;
          width: 90vw;
        }

        #splashlogo {
          width: 60vw;
          animation: logoAnimMobile 3s ease-out;
        }

        #splashtitle {
          font-size: 12vw;
          animation: titleAnimMobile 3s ease-out;
        }
      }

      /* Desktop and Landscape */
      @media (min-width: 1025px), (orientation: landscape) {
        #splashmotto {
          font-size: 12vw;
          width: 80vw;
        }

        #splashlogo {
          width: 50vh;
          max-width: 400px;
          animation: logoAnimDesktop 3s ease-out;
        }

        #splashtitle {
          font-size: 10vh;
          animation: titleAnimDesktop 3s ease-out;
        }
      }

      /* Landscape Mobile */
      @media (max-width: 1024px) and (orientation: landscape) {
        #splashmotto {
          font-size: 6vw;
          width: 70vw;
        }

        #splashlogo {
          width: 35vh;
        }

        #splashtitle {
          font-size: 6vh;
        }
      }

      /* Animations */
      @keyframes fadeOutSplash {
        0%,
        75% {
          opacity: 1;
        }
        100% {
          opacity: 0;
          visibility: hidden;
        }
      }

      @keyframes logoAnimMobile {
        0% {
          width: 20vw;
          opacity: 0.3;
          transform: translateY(50vh) rotate(0deg);
        }
        40%,
        100% {
          width: 60vw;
          opacity: 1;
          transform: translateY(0) rotate(360deg);
        }
      }

      @keyframes logoAnimDesktop {
        0% {
          width: 20vh;
          opacity: 0.3;
          transform: translateY(30vh) rotate(0deg);
        }
        40%,
        100% {
          width: 50vh;
          opacity: 1;
          transform: translateY(0) rotate(360deg);
        }
      }

      @keyframes titleAnimMobile {
        0%,
        35% {
          font-size: 4vw;
          opacity: 0;
        }
        50%,
        100% {
          font-size: 12vw;
          opacity: 1;
        }
      }

      @keyframes titleAnimDesktop {
        0%,
        35% {
          font-size: 3vh;
          opacity: 0;
        }
        50%,
        100% {
          font-size: 14vh;
          opacity: 1;
        }
      }

      @keyframes flamingLetters {
        0%,
        100% {
          color: #e0d920;
          text-shadow: 2px 2px 8px rgba(255, 230, 0, 0.6);
        }
        25% {
          color: #d2b541;
          text-shadow: 0 2px 10px rgba(255, 230, 0, 0.8), 0 -2px 10px rgba(255, 230, 0, 0.8), 2px 0 10px rgba(255, 230, 0, 0.8), -2px 0 10px rgba(255, 230, 0, 0.8);
        }
        50% {
          color: #b08c15;
          text-shadow: 0 4px 15px rgba(255, 230, 0, 0.8), 0 -4px 15px rgba(255, 230, 0, 0.8), 3px 0 15px rgba(255, 230, 0, 0.8), -3px 0 15px rgba(255, 230, 0, 0.8);
        }
      }

      body {
        font-family: "Inter", sans-serif;
        background: #ff59d8;
        background: linear-gradient(0deg, rgba(255, 89, 216, 1) 0%, rgba(173, 61, 173, 1) 31%, rgba(59, 34, 140, 1) 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .header {
        width: 100%;
        display: flex;
        justify-content: flex-start;
        align-items: center;
        margin-bottom: 30px;
        position: relative;
      }

      .go-back-btn {
        background: rgba(255, 255, 255, 0.15);
        border: 2px solid rgba(255, 255, 255, 0.25);
        color: white;
        padding: 10px 20px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 600;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
        position: absolute;
        left: 0;
        z-index: 10;
      }

      .go-back-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: translateY(-2px);
      }

      .page-title {
        font-family: "Bebas Neue";
        color: white;
        font-size: 4rem;
        font-weight: 600;
        text-align: center;
        text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
        width: 100%;
      }

      .main-container {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 60px;
        max-width: 1200px;
        margin: 0 auto;
      }

      .branding-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(15px);
        padding: 40px 30px;
        border-radius: 25px;
        border: 1px solid rgba(255, 255, 255, 0.15);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      }

      .mascot-logo {
        width: 200px;
        height: 200px;
        background: linear-gradient(135deg, #ff59d8, #ad3dad, #3b228c);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 25px;
        box-shadow: 0 15px 35px rgba(255, 89, 216, 0.4);
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .mascot-placeholder {
        font-size: 80px;
        color: white;
        text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
      }

      .event-title {
        font-family: "Orbitron", monospace;
        font-size: 3rem;
        font-weight: 900;
        color: white;
        text-shadow: 3px 3px 15px rgba(0, 0, 0, 0.5);
        letter-spacing: 3px;
        background: linear-gradient(135deg, #ff59d8, #ffffff, #ad3dad);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .form-container {
        background: #1e1e1e;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        width: 100%;
        max-width: 500px;
      }

      .form-title {
        color: white;
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 30px;
        text-align: center;
      }

      .form-group {
        margin-bottom: 25px;
      }

      .form-group label {
        display: block;
        color: #e5e5e5;
        font-weight: 600;
        margin-bottom: 8px;
        font-size: 0.95rem;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 15px;
        border: 2px solid rgba(255, 255, 255, 0.15);
        border-radius: 10px;
        background: #2d2d2d;
        color: white;
        font-size: 1rem;
        transition: all 0.3s ease;
      }

      .form-group input::placeholder,
      .form-group textarea::placeholder {
        color: rgba(255, 255, 255, 0.5);
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #ff59d8;
        background: #353535;
        box-shadow: 0 0 0 3px rgba(255, 89, 216, 0.2);
      }

      .form-group select {
        cursor: pointer;
      }

      .form-group select option {
        background: #2d2d2d;
        color: white;
      }

      .form-group textarea {
        resize: vertical;
        min-height: 100px;
      }

      .submit-btn {
        width: 100%;
        background: linear-gradient(135deg, #ff59d8, #ad3dad);
        border: none;
        color: white;
        padding: 18px;
        border-radius: 10px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(255, 89, 216, 0.4);
      }

      .submit-btn:active {
        transform: translateY(0);
      }

      .submit-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      /* Modal Styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(5px);
      }

      .modal-content {
        background: #1e1e1e;
        margin: 15% auto;
        padding: 30px;
        border-radius: 20px;
        width: 90%;
        max-width: 450px;
        text-align: center;
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
      }

      .modal-content h3 {
        color: white;
        font-size: 1.5rem;
        margin-bottom: 20px;
        font-weight: 600;
      }

      .modal-content p {
        color: rgba(255, 255, 255, 0.8);
        margin-bottom: 25px;
        line-height: 1.6;
      }

      .modal-buttons {
        display: flex;
        gap: 15px;
        justify-content: center;
      }

      .line-btn,
      .close-btn {
        padding: 12px 25px;
        border: none;
        border-radius: 25px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
      }

      .line-btn {
        background: linear-gradient(135deg, #00c851, #00a037);
        color: white;
      }

      .line-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 200, 81, 0.4);
      }

      .close-btn {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.3);
      }

      .close-btn:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      /* buat mobile ui */
      @media (max-width: 768px) {
        .page-title {
          font-size: 3rem;
        }

        .main-container {
          flex-direction: column;
          gap: 30px;
        }

        .branding-section {
          padding: 30px 20px;
          width: 100%;
          max-width: 350px;
        }

        .mascot-logo {
          width: 150px;
          height: 150px;
          margin-bottom: 20px;
        }

        .mascot-placeholder {
          font-size: 60px;
        }

        .event-title {
          font-size: 2rem;
          letter-spacing: 2px;
        }

        .form-container {
          padding: 25px;
        }

        .form-title {
          font-size: 1.5rem;
        }

        .go-back-btn {
          position: static;
          margin-bottom: 20px;
          align-self: flex-start;
        }
      }

      @media (max-width: 480px) {
        .event-title {
          font-size: 1.5rem;
          letter-spacing: 1px;
        }

        .mascot-logo {
          width: 120px;
          height: 120px;
        }

        .mascot-placeholder {
          font-size: 48px;
        }
      }
    </style>
  </head>
  <body>
    <div id="splash">
      <div id="splashmotto">
        GUIDED BY THE STARS<br />
        IGNITE THE NIGHT
      </div>
      <img id="splashlogo" src="Assets/logo.png" alt="Astralis Logo" />
      <h1 id="splashtitle">
        <span class="fronttitleletter">A</span>
        <span class="fronttitleletter">S</span>
        <span class="fronttitleletter">T</span>
        <span class="fronttitleletter">R</span>
        <span class="fronttitleletter">A</span>
        <span class="fronttitleletter">L</span>
        <span class="fronttitleletter">I</span>
        <span class="fronttitleletter">S</span>
      </h1>
    </div>

    <div class="header">
      <a href="index.html" class="go-back-btn">Go Back</a>
      <div class="page-title">Unique Talent Showcase</div>
    </div>

    <div class="main-container">
      <div class="branding-section">
        <div class="mascot-logo">
          <div class="mascot-placeholder">
            <img src="Assets/logo.png" alt="Mascot" style="width: 100%; height: 100%; object-fit: contain; margin-top: 20%" />
          </div>
        </div>
        <h1 class="event-title">ASTRALIS</h1>
      </div>

      <div class="form-container">
        <h2 class="form-title">Registration</h2>
        <form id="registrationForm">
          <div class="form-group">
            <label for="group_number">Group Number</label>
            <select id="group_number" name="group_number" required>
              <option value="">Select Group Number</option>
              <option value="1">Group 1</option>
              <option value="2">Group 2</option>
              <option value="3">Group 3</option>
              <option value="4">Group 4</option>
              <option value="5">Group 5</option>
              <option value="6">Group 6</option>
              <option value="7">Group 7</option>
              <option value="8">Group 8</option>
              <option value="9">Group 9</option>
              <option value="10">Group 10</option>
              <option value="11">Group 11</option>
              <option value="12">Group 12</option>
              <option value="13">Group 13</option>
              <option value="14">Group 14</option>
              <option value="15">Group 15</option>
              <option value="16">Group 16</option>
              <option value="17">Group 17</option>
              <option value="18">Group 18</option>
              <option value="19">Group 19</option>
              <option value="20">Group 20</option>
              <option value="21">Group 21</option>
              <option value="22">Group 22</option>
            </select>
          </div>

          <div class="form-group">
            <label for="representative_name">Representative Name</label>
            <input type="text" id="representative_name" name="representative_name" placeholder="Enter representative's full name" required />
          </div>

          <div class="form-group">
            <label for="line_id">LINE ID</label>
            <input type="text" id="line_id" name="line_id" placeholder="Enter LINE ID (without @)" required />
          </div>

          <div class="form-group">
            <label for="talent_description">Talent Description</label>
            <textarea id="talent_description" name="talent_description" placeholder="Describe the talent/performance you will showcase..." required></textarea>
          </div>

          <button type="submit" class="submit-btn" id="submitBtn">Register Now</button>
        </form>
      </div>
    </div>

    <!-- popup/modal -->
    <div id="successModal" class="modal">
      <div class="modal-content">
        <h3>Registration Successful!</h3>
        <p>Thank you for registering for Astralis! Please join our LINE group for updates and important information about the event.</p>
        <div class="modal-buttons">
          <a href="https://line.me/R/ti/g/nY4xdTjc8f " class="line-btn" target="_blank">Click Here to Join</a>
          <button class="close-btn" onclick="closeModal()">Close</button>
        </div>
      </div>
    </div>

    <script>
      // Scroll to top on refresh
      window.onbeforeunload = () => window.scrollTo(0, 0);

      let animDelay = false;
      const letters = document.querySelectorAll(".fronttitleletter");

      // Animate letters function
      function animateLetters(letterArray, delay = 100) {
        if (animDelay) return;

        animDelay = true;
        letterArray.forEach((letter) => letter.classList.remove("showAnim"));

        letterArray.forEach((letter, index) => {
          setTimeout(() => {
            letter.classList.add("showAnim");
          }, index * delay);
        });

        setTimeout(() => {
          animDelay = false;
        }, 1500);
      }

      // Start splash animation
      setTimeout(() => {
        animateLetters(letters, 100);
      }, 1150);

      // Hide splash screen
      setTimeout(() => {
        document.getElementById("splash").style.display = "none";
        document.body.style.overflow = "auto";
      }, 3100);

      // appscript deployment link
      const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwpNDTSehRtV1BXhZe5FUVsS6ts0SCJSfO3jMFueTzrVzW_6052tGHZfSQLDfebGJ64/exec";

      function showModal() {
        document.getElementById("successModal").style.display = "block";
      }

      function closeModal() {
        document.getElementById("successModal").style.display = "none";
        document.getElementById("registrationForm").reset();
      }

      // handle submit function
      document.getElementById("registrationForm").addEventListener("submit", function (e) {
        e.preventDefault();

        const submitBtn = document.getElementById("submitBtn");
        const originalText = submitBtn.textContent;

        // biar ga bs submit waktu lg submitting
        submitBtn.disabled = true;
        submitBtn.textContent = "Submitting...";

        const formData = new FormData(this);
        const data = {
          timestamp: new Date().toLocaleString(),
          group_number: formData.get("group_number"),
          representative_name: formData.get("representative_name"),
          line_id: formData.get("line_id"),
          talent_description: formData.get("talent_description"),
        };

        // send data packet to google sheets
        fetch(GOOGLE_SCRIPT_URL, {
          method: "POST",
          mode: "no-cors",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(data),
        })
          .then(() => {
            showModal();
          })
          .catch((error) => {
            console.error("Error:", error);
            alert("An error occurred during registration. Please try again.");
          })
          .finally(() => {
            // biar bisa submit lagi
            submitBtn.disabled = false;
            submitBtn.textContent = originalText;
          });
      });

      // tutup popup klo pencet diluarnya
      window.onclick = function (event) {
        const modal = document.getElementById("successModal");
        if (event.target === modal) {
          closeModal();
        }
      };
    </script>
  </body>
</html>
